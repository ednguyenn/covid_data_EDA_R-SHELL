"0","# Split the data into training and test set with an 90:10 split ratio"
"0","set.seed(123)"
"0","training.samples <- australia_data %>% "
"0","  dplyr::select(date) %>%"
"0","  mutate(id = row_number()) %>%"
"0","  sample_frac(0.9) %>%"
"0","  pull(id)"
"0",""
"0","train.data <- australia_data[training.samples, ]"
"0","test.data <- australia_data[-training.samples, ]"
"0",""
"0",""
"0","# Make predictions"
"0","train.data$predictions <- predict(model, newdata = train.data)"
"0","test.data$predictions <- predict(model, newdata = test.data)"
"0",""
"0","# Compute performance metrics"
"0","performance_train <- data.frame("
"0","  RMSE = RMSE(train.data$predictions, train.data$new_cases),"
"0","  R2 = R2(train.data$predictions, train.data$new_cases)"
"0",")"
"0",""
"0","performance_test <- data.frame("
"0","  RMSE = RMSE(test.data$predictions, test.data$new_cases),"
"0","  R2 = R2(test.data$predictions, test.data$new_cases)"
"0",")"
"0",""
"0",""
"0","# Visualize the performance on both sets"
"0","ggplot() +"
"0","  geom_line(data = train.data, aes(x = date, y = new_cases), color = ""blue"") +"
"0","  geom_line(data = train.data, aes(x = date, y = predictions), color = ""red"", linetype = ""dashed"") +"
"0","  geom_line(data = test.data, aes(x = date, y = new_cases), color = ""green"") +"
"0","  geom_line(data = test.data, aes(x = date, y = predictions), color = ""purple"", linetype = ""dashed"") +"
"0","  scale_x_date(date_labels = ""%b %Y"", date_breaks = ""1 month"") +"
"0","  labs(title = ""Model Performance on Training and Test Sets"","
"0","       x = ""Date"", y = ""New Cases"") +"
"0","  theme_minimal() +"
"0","  theme(axis.text.x = element_text(angle = 45, hjust = 1))"
"0",""
